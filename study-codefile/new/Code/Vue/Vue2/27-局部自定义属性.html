<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title></title>
        <script src="./js/vue.js"></script>
    </head>
        <body>
            <div id='app'>
                <!-- <h3 v-show="flag">这是一个标签</h3> -->
                <h3 v-demo="flag2">这是一个标签</h3>
                <button @click="changeFlag">局部自定义属性</button>
            </div>


            <script>
                Vue.config.productionTip = false;
                var vm = new Vue({
                    el: '#app',
                    data:{
                        flag: true,
                        flag2: false,
                    },
                    methods:{
                        changeFlag(){
                            this.flag2 = !this.flag2;
                        }
                    },

                    // 局部自定义属性
                    directives:{
                        demo:{
                            inserted(el , binding , vnode , oldvnode){
                                // console.log(el);
                                // console.log(binding);
                                // console.log(vnode);
                                // console.log(oldvnode);
                                if(binding.value == true){
                                    el.style.display = "block"
                                }else{
                                    el.style.display = "none"
                                }
                            },
                            update(el, binding, vnode, oldvnode){
                                if(binding.value == true){
                                    el.style.display = "block"
                                }else{
                                    el.style.display = "none"
                                }

                            }
                        }
                    }
                });
            </script>
        </body>
</html>