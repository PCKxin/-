<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link rel="stylesheet" href="https://at.alicdn.com/t/c/font_4354016_13me5jvjfjcd.css">
        <link rel="stylesheet" href="./css/swiper-bundle.min.css">
        <link rel="stylesheet" href="./css/test.css">
    </head>
    <body>
        <!-- top bar -->
        <div class="topBar">
            <div class="topBarL">
                <img src="./img/logo.webp">
            </div>
            <div class="topBarR">
                <i class="iconfont icon-menu" id="topRbtn-block"></i>
                <i class="iconfont icon-cha" id="topRbtn-none"></i>
            </div>
            <div class="tBRcon">
                <div class="tBRClink">
                    <a href="#">新闻动态</a>
                </div>
                <div class="tBRClink">
                    <a href="./第二题.html">游戏会员俱乐部</a>
                </div>
                <div class="tBRClink">
                    <a href="#">关于游戏</a>
                </div>
                <div class="tBRClink">
                    <a href="#">合作产品部</a>
                </div>
                <div class="tBRClink">
                    <a href="#">跨界合作</a>
                </div>
                <div class="tBRClink">
                    <a href="#">人才招聘</a>
                </div>
                <div class="tBRClink">
                    <a href="#">客服中心</a>
                </div>
            </div>
        </div>
        <!-- slide -->
        <div class="swiper slideGo">
            <div class="swiper-wrapper">
                <!-- <div class="swiper-slide">
                    <img src="./img/首页轮播-1.jpg" class="slideItems">
                </div>
                <div class="swiper-slide">
                    <img src="./img/首页轮播-2.jpg" class="slideItems">
                </div>
                <div class="swiper-slide">
                    <img src="./img/首页轮播-3.jpg" class="slideItems">
                </div> -->
            </div>
            <!-- 分页器 -->
            <div class="swiper-pagination"></div>
        </div>

        <!-- cutoff -->
        <div class="cutoff">
            <img src="./img/cutoff.png">
        </div>

        <!-- mainGoods -->
        <div class="mainGoods">
            <div class="GoodsItemL">
                <img src="./img/act1.jpg">
            </div>
            <div class="GoodsItemR">
                <img src="./img/act2.jpg" class="GIRItemsF">
                <img src="./img/act3.jpg" class="GIRItemsS">
                <img src="./img/act4.jpg" class="GIRItemsT">
            </div>
        </div>

        <!-- cutoff -->
        <div class="cutoffGoods">
            <img src="./img/tuijian.png">
            <div class="COGText">游戏党必备好物，新人特价包邮！</div>
        </div>

        <!-- goodsNews -->
        <div class="goodsNews">
            <div class="NewsItems">
                <div class="NIText">无门槛拉满超跑！《王牌竞速》新赛季送的就是真实</div>
                <div class="NIcount">12/15</div>
            </div>
            <div class="NewsAllBtn">
                <div class="NABText">查看更多</div>
            </div>
        </div>

        <!-- GamesList -->
        <div class="GamesListBox">
            <div class="GLBar">
                <div class="GLBItems">新游测试表
                    <div class="GLBIborder"></div>
                </div>
                <div class="GLBItems">热门游戏
                    <div class="GLBIborder"></div>
                </div>
                <div class="GLBItems">客户端游戏
                    <div class="GLBIborder"></div>
                </div>
                <div class="GLBItems">手机游戏
                    <div class="GLBIborder"></div>
                </div>
            </div>
            <div class="GamesList">
                <div class="newGameList">
                    <!-- <div class="NGLItems">
                        <img src="./img/首页新游戏列表-1.png">
                        <div class="NGLIinfo">
                            <div class="NGLItag">手机游戏</div>
                            <div class="NGLIname">七日世界</div>
                            <div class="NGLImsg">排位赋能系统全新上线</div>
                            <i class="iconfont icon-youjiantou"></i>
                        </div>
                    </div> -->
                </div>
                <div class="hotGameList">
                    <!-- <div class="HGLItems">
                        <img src="./img/首页热门游戏-1.png">
                        <div class="HGLIinfo">
                            <div class="HGLItag">手机游戏</div>
                            <div class="HGLIname">七日世界</div>
                            <div class="HGLImsg">排位赋能系统全新上线</div>
                            <i class="iconfont icon-youjiantou"></i>
                        </div>
                    </div> -->
                </div>
                <div class="pcGameList">
                    <!-- <img src="./img/pcdemopic.png" class="gamedemopic"> -->
                </div>
                <div class="mobileGameList">
                    <!-- <img src=""> -->
                </div>
            </div>
        </div>

        <!-- footer -->
        <div class="footer">
            <div class="copyright">公司版权所有 @1997-2023</div>
            <div class="Fmsg">游戏险私政策及儿童个人信息保护规则</div>
            <div class="Fmsg">讳法及不良信身学招中心</div>
            <div class="Fmsg">ICP备案: 粤B2-20090191-18</div>
            <div class="Fmsg">游戏行业公约</div>
        </div>

        <!-- topBtn -->
        <div class="topBtn">
            <i class="iconfont icon-yooxi"></i>
        </div>




        <script src="./js/jquery-2.1.4.min.js"></script>
        <script src="./js/flexible.js"></script>
        <script src="./js/swiper-bundle.min.js"></script>
        <script>
            // alert("注：本页面由于条件过少, 宽度310为最佳效果")
            // alert("主页面基本要求全实现了，第二页没时间🥲")
            // alert("时间压根不够啊🥲")


            // 头部菜单展示切换,添加动画效果
            $("#topRbtn-block").css("display", "block");
            $("#topRbtn-block").click(function(){
                $(".tBRcon").css("display", "block");
                $(".tBRcon").animate({top: 50}, 500);
                $("#topRbtn-block").css("display", "none");
                $("#topRbtn-none").css("display", "block");
            });
            $("#topRbtn-none").click(function(){
                $(".tBRcon").animate({top: -500}, 500);
                $("#topRbtn-none").css("display", "none");
                $("#topRbtn-block").css("display", "block");
            });



            // topBtn
            window.onload = function(){
                $(".topBtn").fadeOut(0);
            }
            $(window).scroll(function(){
                if($(window).scrollTop() > 100){
                    $(".topBtn").fadeIn(500);
                }else{
                    $(".topBtn").fadeOut(500);
                }
            });
            $(".topBtn").click(function(){
                $("html,body").animate({scrollTop:0}, 500);
            });

            // ajax渲染
            $.ajax(
                {
                    url: './data/test.json',
                    type: 'get',
                    dataType: 'json',
                    success: function (data){
                        // console.log(data)
                        console.log(data.data[0].slide)
                        function slideRender(){
                            var _htm = '';
                            for(let i = 0; i < data.data[0].slide.length; i++){
                                // console.log(data.data[0].slide[i])
                                _htm += `
                                    <div class="swiper-slide">
                                        <img src="${data.data[0].slide[i].url}" class="slideItems">
                                    </div>
                                `;
                            }
                            $(".swiper-wrapper").html(_htm);
                        }
                        slideRender();
                        // 轮播图
                        var swiper = new Swiper('.slideGo', {
                            loop: true, // 循环模式选项
                            autoplay: {
                                delay: 3000,
                                stopOnLastSlide: false, // 最后一张是否停止
                                disableOnInteraction: true, // 用户操作后是否停止
                            },
                            // 分页器
                            pagination: {
                                el: '.swiper-pagination',
                            },
                        });

                        // goodsNews渲染
                        console.log(data.data[0].goodsnews)
                        function goodsNewsRender(){
                            var g_htm = '';
                            for(let i = 0; i < data.data[0].goodsnews.length; i++){
                                g_htm +=`
                                <div class="NewsItems">
                                    <div class="NIText">${data.data[0].goodsnews[i].text}</div>
                                    <div class="NIcount">${data.data[0].goodsnews[i].count}</div>
                                </div>
                                `
                            }
                            // console.log(g_htm)
                            $(".goodsNews").html(g_htm);
                        }
                        goodsNewsRender();

                        // 默认第一个列表显示，第一个标题红色，第一个边框display: block
                        $(".GLBItems").eq(0).css("color", "#ff0000");
                        $(".GLBIborder").eq(0).css("display", "block");
                        $(".newGameList").css("display", "block");
                        // 监听touchend切换
                        $(".GLBItems").on(
                                {
                                    touchend: function(){
                                        // console.log($(this).index())
                                        // console.log($(this).text())
                                        $(".GLBItems").css("color", "#787878"); // 所有标题颜色变灰
                                        $(".GLBIborder").css("display", "none"); // 所有边框display: none
                                        $(".GamesList").children().css("display", "none"); // 所有列表display: none
                                        $(this).css("color", "#ff0000"); // 当前标题颜色变红
                                        $(this).children().css("display", "block"); // 当前边框display: block
                                        $(".GamesList").children().eq($(this).index()).css("display", "block"); // 当前列表display: block
                                    }
                                }
                            );

                        // GamesList渲染
                        // NewGameList  
                        console.log(data.data[0].HotGameList)
                        function NewGameListRender(){
                            var n_htm = '';
                            for(let i = 0; i < data.data[0].NewGameList.length; i++){
                                n_htm += `
                                    <div class="NGLItems">
                                        <img src="${data.data[0].NewGameList[i].img}">
                                        <div class="NGLIinfo">
                                            <div class="NGLItag">${data.data[0].NewGameList[i].tag}</div>
                                            <div class="NGLIname">${data.data[0].NewGameList[i].title}</div>
                                            <div class="NGLImsg">${data.data[0].NewGameList[i].infomsg}</div>
                                            <i class="iconfont icon-youjiantou"></i>
                                        </div>
                                    </div>
                                `
                            }
                            $(".newGameList").html(n_htm);
                        }
                        NewGameListRender();
                        // hotGameList
                        function hotGameListRender(){
                            var h_htm = '';
                            for(let i = 0; i < data.data[0].HotGameList.length; i++){
                                h_htm += `
                                    <div class="HGLItems">
                                        <img src="${data.data[0].HotGameList[i].img}">
                                        <div class="HGLIinfo">
                                            <div class="HGLItag">${data.data[0].HotGameList[i].tag}</div>
                                            <div class="HGLIname">${data.data[0].HotGameList[i].title}</div>
                                            <div class="HGLImsg">${data.data[0].HotGameList[i].infomsg}</div>
                                            <i class="iconfont icon-youjiantou"></i>
                                        </div>
                                    </div>
                                `
                            }
                            $(".hotGameList").html(h_htm);
                        }
                        hotGameListRender();

                        // pcGameList&mobileGameList
                        console.log(data.data[0].pcandmobiledemo)
                        function pcGameListRender(){
                            var p_htm = '';
                            p_htm += `
                                <img src="${data.data[0].pcandmobiledemo[0].demopic}" class="gamedemopic">
                            `
                            $(".pcGameList").html(p_htm);
                        }
                        pcGameListRender();
                        function mobileGameListRender(){
                            var m_htm = '';
                            m_htm += `
                                <img src="${data.data[0].pcandmobiledemo[1].demopic}" class="gamedemopic">
                            `
                            $(".mobileGameList").html(m_htm);
                        }
                        mobileGameListRender();
                    }
                }
            );

        </script>
    </body>
</html>
