<!DOCTYPE html>
    <html lang="zh-cn">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="PanJiaBao" content="width=device-width, initial-scale=1.0">
        <title>第一题</title>
        <style>
            *{
                margin: 0;
                padding: 0;
                list-style: none;
            }
            .boxContent{
                width: 100%;
                height: 1080px;
                position: relative;
            }
            .boxContent:nth-child(1){
                background-color: rgba(6, 236, 240, 0.403);
            }
            .boxContent:nth-child(2){
                background-color: rgba(6, 240, 6, 0.403);
            }
            .boxContent:nth-child(3){
                background-color: rgba(240, 6, 6, 0.403);
            }
            .boxContent:nth-child(4){
                background-color: rgba(240, 6, 240, 0.403);
            }
            .boxContent:nth-child(5){
                background-color: rgba(6, 6, 240, 0.403);
            }
            .btnBox{
                width: 100px;
                height: 200px;
                position: fixed;
                bottom: 150px;
                right: 0;
                background-color: rgba(0, 0, 0, 0.5);
            }
            .btn{
                width: 100px;
                height: 40px;
                line-height: 40px;
                text-align: center;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div class="floorBox">
            <div class="boxContent"></div>
            <div class="boxContent"></div>
            <div class="boxContent"></div>
            <div class="boxContent"></div>
            <div class="boxContent"></div>
        </div>
        <div class="btnBox">
            <div class="btn">1</div>
            <div class="btn">2</div>
            <div class="btn">3</div>
            <div class="btn">4</div>
            <div class="btn">5</div>
        </div>
    </body>
    <script>
            //获取元素
            var box_content = document.getElementsByClassName('boxContent');//获取楼层
            var btn = document.getElementsByClassName('btn');//获取按钮
            //点击按钮切换楼层
            for (var i = 0; i < btn.length; i++) {
                // console.log(i);
                btn[i].index = i;//给每个按钮添加索引
                btn[i].onclick = function () {
                    //获取当前按钮的索引
                    var index = this.index;
                    //获取当前楼层距离顶部的距离
                    var top = box_content[index].offsetTop;
                    //滑动到当前楼层
                    window.scrollTo(0, top);
                    //还原其他按钮背景色
                    for (var j = 0; j < btn.length; j++) {
                        btn[j].style.backgroundColor = '';
                    }
                    //改变当前按钮背景色
                    btn[index].style.backgroundColor = 'gray';
                }
                if (i == 0) {
                    //初始化第一个按钮背景色
                    btn[i].style.backgroundColor = 'gray';
                }
            }
            //楼层滑动到可视区域，按钮背景色改变
            window.onscroll = function () {
                //获取滑动距离
                var top = document.documentElement.scrollTop || document.body.scrollTop;
                //遍历楼层
                for (var i = 0; i < box_content.length; i++) {
                    //获取当前楼层距离顶部的距离
                    var box_top = box_content[i].offsetTop; //offsetTop获取元素距离顶部的距离
                    //判断当前楼层是否在可视区域
                    if (top >= box_top) {
                        //还原其他按钮背景色
                        for (var j = 0; j < btn.length; j++) {
                            btn[j].style.backgroundColor = '';
                        }
                        //当前楼层在可视区域，改变当前按钮背景色
                        btn[i].style.backgroundColor = 'gray';
                    } else {
                        //当前楼层不在可视区域，初始化当前按钮背景色
                        btn[i].style.backgroundColor = '';
                    }
                }
            }
    </script>
</html>













































































































<!-- 潘佳宝 6/7 防复制水印 -->